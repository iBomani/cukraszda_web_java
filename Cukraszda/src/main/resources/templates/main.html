<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Cukrászda</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/main.css" th:href="@{main.css}">
</head>
<body>
    <header>
        <h1>Seft Cukrászda</h1>
        <p class="motto">„Süti nélkül nincs seft”</p>
    </header>

    <nav>
        <ul>
            <li class="navrow">Étlap</li>
            <li class="navrow"><a th:href="@{/contact}">Kapcsolat</a></li>
            <li>
                <form action="/logout" method="post">
                    <button type="submit" class="logout">Kijelentkezés</button>
                </form>
            </li>
        </ul>
    </nav>
    <main>
        <section class="menu">
            <script>
                async function loadMenu() {
                    try {
                        const response = await fetch('/api/menu');

                        const cookieItems = await response.json();

                        const menuList = document.getElementsByClassName('menu')[0];

                        menuList.innerHTML = '';



                        cookieItems.forEach(item => {
                            const div = document.createElement('div');
                            div.classList.add('item');

                            div.innerHTML = `
                             <p>${item.name}</p>
                            <p>${item.price} - ${item.unit}</p>
                            <p>${item.type}</p>
                            <p>${item.awarded ? 'Igen' : 'Nem'}</p>
                            <p>${item.type_free}</p>
                    `

                            menuList.appendChild(div);
                        })
                    } catch (error) {
                        console.error('Error fetching cookies', error);
                    }
                }

                window.onload = loadMenu;


            </script>
            <div class="item">

            </div>
        </section>
    </main>
</body>
</html>